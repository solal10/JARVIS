"use strict";(()=>{var e={};e.id=48,e.ids=[48],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8427:(e,t,i)=>{i.r(t),i.d(t,{headerHooks:()=>h,originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>p,routeModule:()=>m,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>y});var r={};i.r(r),i.d(r,{GET:()=>u,POST:()=>l});var n=i(884),a=i(6132),o=i(1040),c=i(5798),s=i(8284);async function u(){try{let e=s.Z.getTopRecommendations(10),t=s.Z.selectOptimalTopic();return c.Z.json({success:!0,data:{optimal:{topic:t.topic,priority:t.priority,angle:t.angle,urgency:t.urgency,timing:t.timing,reasoning:t.reasoning,metrics:{actualityScore:t.actualityScore,seoScore:t.seoScore,trendScore:t.trendScore,estimatedTraffic:t.estimatedTraffic,businessValue:t.businessValue}},recommendations:e.map(e=>({topic:e.topic,priority:e.priority,angle:e.angle,urgency:e.urgency,reasoning:e.reasoning,estimatedTraffic:e.estimatedTraffic,scores:{actuality:e.actualityScore,seo:e.seoScore,trend:e.trendScore}})),insights:{totalOpportunities:e.length,criticalUrgency:e.filter(e=>"critical"===e.urgency).length,highTrafficPotential:e.filter(e=>e.estimatedTraffic>2e3).length,emergingTrends:e.filter(e=>e.trendScore>80).length,hotTopics:e.filter(e=>e.actualityScore>75).length,seoOpportunities:e.filter(e=>e.seoScore>80).length},scoreDistribution:{averageActuality:Math.round(e.reduce((e,t)=>e+t.actualityScore,0)/e.length),averageSEO:Math.round(e.reduce((e,t)=>e+t.seoScore,0)/e.length),averageTrend:Math.round(e.reduce((e,t)=>e+t.trendScore,0)/e.length),averagePriority:Math.round(e.reduce((e,t)=>e+t.priority,0)/e.length)}},timestamp:new Date().toISOString(),system:"JARVIS Smart Editorial Selector v1.0"})}catch(e){return c.Z.json({success:!1,error:"Erreur syst\xe8me s\xe9lection intelligente",fallback:{optimal:{topic:"Intelligence artificielle entreprise",priority:75,angle:"Guide JARVIS : Transformer votre entreprise avec l'IA",urgency:"medium",timing:"Publier cette semaine",reasoning:"Sujet evergreen avec forte demande SEO",metrics:{actualityScore:60,seoScore:85,trendScore:70,estimatedTraffic:2500,businessValue:80}}}},{status:500})}}async function l(e){try{let{filters:t}=await e.json(),i=s.Z.getTopRecommendations(20),r=i;return t?.minSeoScore&&(r=r.filter(e=>e.seoScore>=t.minSeoScore)),t?.urgency&&(r=r.filter(e=>e.urgency===t.urgency)),t?.minTraffic&&(r=r.filter(e=>e.estimatedTraffic>=t.minTraffic)),c.Z.json({success:!0,filtered:!0,appliedFilters:t,results:r.slice(0,10),totalFound:r.length,timestamp:new Date().toISOString()})}catch(e){return c.Z.json({success:!1,error:"Erreur filtrage recommandations"},{status:400})}}let m=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/smart-recommendations/route",pathname:"/api/smart-recommendations",filename:"route",bundlePath:"app/api/smart-recommendations/route"},resolvedPagePath:"/Users/JARVIS/Desktop/JARVIS/frontend/src/app/api/smart-recommendations/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:g,headerHooks:h,staticGenerationBailout:y}=m,f="/api/smart-recommendations/route";function v(){return(0,o.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}},8284:(e,t,i)=>{i.d(t,{Z:()=>r});class r{static getCurrentActualitySignals(){return[{topic:"IA g\xe9n\xe9rative Open Source",event:"Meta lance Llama 3.2 avec capacit\xe9s multimodales - 15% plus performant que GPT-4o",recency:95,buzzLevel:89,newsVelocity:47,source:"TechCrunch, Verge, Ars Technica",credibility:95},{topic:"Cybers\xe9curit\xe9 quantique",event:"IBM annonce la premi\xe8re attaque quantique r\xe9ussie sur RSA-2048 en laboratoire",recency:88,buzzLevel:76,newsVelocity:23,source:"Nature, IEEE, Financial Times",credibility:98},{topic:"Green Tech europ\xe9enne",event:"L'UE d\xe9bloque 12Md€ pour les startups cleantech - focus IA \xe9nerg\xe9tique",recency:82,buzzLevel:67,newsVelocity:34,source:"EU Commission, Les Echos, Bloomberg",credibility:92},{topic:"Agents IA autonomes",event:"Google DeepMind pr\xe9sente des agents IA qui g\xe8rent des entreprises enti\xe8res",recency:91,buzzLevel:94,newsVelocity:56,source:"MIT Technology Review, Wired",credibility:90},{topic:"RegTech compliance",event:"Nouvelles amendes RGPD record : 1,2Md€ pour Meta - boom des solutions compliance IA",recency:85,buzzLevel:72,newsVelocity:29,source:"CNIL, TechCrunch Europe",credibility:96}]}static getCurrentSEOOpportunities(){return[{keyword:"audit ia entreprise",searchVolume:3400,difficulty:45,trend:"rising",competitorGap:85,jarvisRelevance:98,cpc:12.5},{keyword:"conformit\xe9 ia rgpd",searchVolume:2800,difficulty:52,trend:"rising",competitorGap:78,jarvisRelevance:95,cpc:15.2},{keyword:"agent ia automatisation",searchVolume:5600,difficulty:68,trend:"rising",competitorGap:62,jarvisRelevance:88,cpc:8.9},{keyword:"cybers\xe9curit\xe9 quantique pme",searchVolume:1200,difficulty:35,trend:"rising",competitorGap:92,jarvisRelevance:82,cpc:18.4},{keyword:"transformation digitale monaco",searchVolume:890,difficulty:28,trend:"stable",competitorGap:95,jarvisRelevance:100,cpc:22.1},{keyword:"startup ia lev\xe9e fonds",searchVolume:4200,difficulty:71,trend:"rising",competitorGap:58,jarvisRelevance:75,cpc:6.3}]}static getCurrentTrendSignals(){return[{topic:"Agents IA autonomes",momentum:95,maturity:"emerging",adoptionRate:12,investmentFlow:2800,timeToMainstream:8,businessImpact:92},{topic:"Quantum-safe cryptography",momentum:78,maturity:"emerging",adoptionRate:8,investmentFlow:1200,timeToMainstream:18,businessImpact:88},{topic:"No-code IA enterprise",momentum:84,maturity:"growing",adoptionRate:34,investmentFlow:1600,timeToMainstream:6,businessImpact:79},{topic:"Green AI computing",momentum:71,maturity:"growing",adoptionRate:28,investmentFlow:950,timeToMainstream:12,businessImpact:74},{topic:"Compliance IA automatis\xe9e",momentum:89,maturity:"emerging",adoptionRate:19,investmentFlow:2100,timeToMainstream:9,businessImpact:86}]}static selectOptimalTopic(){let e=this.getCurrentActualitySignals(),t=this.getCurrentSEOOpportunities(),i=this.getCurrentTrendSignals(),r=[];return e.forEach(e=>{let n=t.find(t=>this.topicsMatch(e.topic,t.keyword)),a=i.find(t=>this.topicsMatch(e.topic,t.topic));if(n||a){let t=this.evaluateTopicCandidate(e,n||null,a||null);r.push(t)}}),t.forEach(e=>{let t=i.find(t=>this.topicsMatch(e.keyword,t.topic)),n=r.find(t=>this.topicsMatch(t.topic,e.keyword));if(!n&&t&&e.competitorGap>75){let i=this.evaluateTopicCandidate(null,e,t);r.push(i)}}),r.sort((e,t)=>t.priority-e.priority),r[0]||this.getFallbackRecommendation()}static evaluateTopicCandidate(e,t,i){let r=e?.3*e.recency+.4*e.buzzLevel+.3*e.credibility:0,n=t?.4*t.competitorGap+.3*t.jarvisRelevance+(100-t.difficulty)*.2+.1*this.normalizeSearchVolume(t.searchVolume):0,a=i?.4*i.momentum+.3*i.businessImpact+(100-5*i.timeToMainstream)*.3:0,o=.25*r+.45*n+.3*a,c=e?.topic||t?.keyword||i?.topic||"Innovation Tech",s=this.generateEditorialAngle(e,t,i),u=this.calculateUrgency(r,a);return{topic:c,priority:Math.round(o),actualityScore:Math.round(r),seoScore:Math.round(n),trendScore:Math.round(a),angle:s,urgency:u,timing:this.calculateOptimalTiming(e,i),reasoning:this.generateReasoning(r,n,a),estimatedTraffic:t?Math.round(t.searchVolume*(t.competitorGap/100)):0,businessValue:Math.round((n+a)/2)}}static topicsMatch(e,t){let i=e=>e.toLowerCase().replace(/[èéêë]/g,"e").replace(/[àáâä]/g,"a").replace(/[ç]/g,"c").replace(/[^a-z0-9]/g," ").split(" ").filter(e=>e.length>2),r=i(e),n=i(t),a=r.filter(e=>n.includes(e)).length,o=Math.min(r.length,n.length);return o>0&&a/o>=.4}static normalizeSearchVolume(e){return e>1e4?100:e>5e3?90:e>2e3?75:e>1e3?60:e>500?45:Math.max(20,e/500*45)}static generateEditorialAngle(e,t,i){return e&&e.recency>85?`Analyse exclusive : ${e.event} - Impact imm\xe9diat pour les entreprises fran\xe7aises`:t&&t.competitorGap>80?`Guide expert : ${t.keyword} - M\xe9thode JARVIS pour devancer vos concurrents`:i&&i.momentum>80?`Anticiper 2025 : ${i.topic} - Pourquoi agir maintenant avant la g\xe9n\xe9ralisation`:"Analyse JARVIS : Vision d'expert sur les transformations tech"}static calculateUrgency(e,t){let i=.6*e+.4*t;return i>85?"critical":i>70?"high":i>50?"medium":"low"}static calculateOptimalTiming(e,t){return e&&e.recency>90?"Publier imm\xe9diatement - Actualit\xe9 chaude":t&&t.timeToMainstream<6?"Publier cette semaine - Fen\xeatre d'opportunit\xe9 limit\xe9e":e&&e.buzzLevel>80?"Publier sous 48h - Momentum favorable":"Publier selon planning \xe9ditorial standard"}static generateReasoning(e,t,i){let r=[];return e>70&&r.push(`Actualit\xe9 forte (${Math.round(e)}/100) - buzz et r\xe9cence`),t>75&&r.push(`Opportunit\xe9 SEO excellente (${Math.round(t)}/100) - faible concurrence`),i>70&&r.push(`Tendance \xe9mergente (${Math.round(i)}/100) - momentum \xe9lev\xe9`),r.join(" • ")||"Sujet \xe9quilibr\xe9 avec potentiel business"}static getFallbackRecommendation(){return{topic:"Intelligence artificielle entreprise",priority:70,actualityScore:60,seoScore:75,trendScore:65,angle:"Guide JARVIS : Transformer votre entreprise avec l'IA - M\xe9thodologie \xe9prouv\xe9e",urgency:"medium",timing:"Publier selon planning standard",reasoning:"Sujet evergreen avec forte demande SEO • Expertise JARVIS reconnue",estimatedTraffic:2100,businessValue:80}}static getTopRecommendations(e=5){let t=this.getCurrentActualitySignals(),i=this.getCurrentSEOOpportunities(),r=this.getCurrentTrendSignals(),n=[];return[...t,...i.map(e=>({topic:e.keyword,...e})),...r].forEach(e=>{let a=i.find(t=>this.topicsMatch(e.topic,t.keyword)),o=r.find(t=>this.topicsMatch(e.topic,t.topic)),c=t.find(t=>this.topicsMatch(e.topic,t.topic)),s=this.evaluateTopicCandidate(c||null,a||null,o||null);n.find(e=>this.topicsMatch(e.topic,s.topic))||n.push(s)}),n.sort((e,t)=>t.priority-e.priority).slice(0,e)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[271,107],()=>i(8427));module.exports=r})();